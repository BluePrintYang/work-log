<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>思政版本——今日校园高级接口 | Hello VuePress</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="my worklog in wisedu">
    
    <link rel="preload" href="/work-log/assets/css/0.styles.c92e7880.css" as="style"><link rel="preload" href="/work-log/assets/js/app.4ab3fcb2.js" as="script"><link rel="preload" href="/work-log/assets/js/2.8bf0a2de.js" as="script"><link rel="preload" href="/work-log/assets/js/228.9c589116.js" as="script"><link rel="prefetch" href="/work-log/assets/js/10.60bd7b2a.js"><link rel="prefetch" href="/work-log/assets/js/100.b368b8b0.js"><link rel="prefetch" href="/work-log/assets/js/101.d609c4b6.js"><link rel="prefetch" href="/work-log/assets/js/102.653c7aa6.js"><link rel="prefetch" href="/work-log/assets/js/103.eaa85e33.js"><link rel="prefetch" href="/work-log/assets/js/104.eff7c982.js"><link rel="prefetch" href="/work-log/assets/js/105.d9f06115.js"><link rel="prefetch" href="/work-log/assets/js/106.fa61b184.js"><link rel="prefetch" href="/work-log/assets/js/107.0afd7750.js"><link rel="prefetch" href="/work-log/assets/js/108.87d8036e.js"><link rel="prefetch" href="/work-log/assets/js/109.1138ecf7.js"><link rel="prefetch" href="/work-log/assets/js/11.60ea3e60.js"><link rel="prefetch" href="/work-log/assets/js/110.7bc1103e.js"><link rel="prefetch" href="/work-log/assets/js/111.7e06995e.js"><link rel="prefetch" href="/work-log/assets/js/112.b26651a4.js"><link rel="prefetch" href="/work-log/assets/js/113.4fd42d52.js"><link rel="prefetch" href="/work-log/assets/js/114.04cf27b3.js"><link rel="prefetch" href="/work-log/assets/js/115.9422d14a.js"><link rel="prefetch" href="/work-log/assets/js/116.00682ca6.js"><link rel="prefetch" href="/work-log/assets/js/117.4812ef33.js"><link rel="prefetch" href="/work-log/assets/js/118.4af440fb.js"><link rel="prefetch" href="/work-log/assets/js/119.4e11fb1e.js"><link rel="prefetch" href="/work-log/assets/js/12.4b9a75f9.js"><link rel="prefetch" href="/work-log/assets/js/120.d09d87af.js"><link rel="prefetch" href="/work-log/assets/js/121.18b3f80a.js"><link rel="prefetch" href="/work-log/assets/js/122.00637636.js"><link rel="prefetch" href="/work-log/assets/js/123.d1239235.js"><link rel="prefetch" href="/work-log/assets/js/124.89f5b1b7.js"><link rel="prefetch" href="/work-log/assets/js/125.68dd8718.js"><link rel="prefetch" href="/work-log/assets/js/126.f9e4189f.js"><link rel="prefetch" href="/work-log/assets/js/127.c0b9a531.js"><link rel="prefetch" href="/work-log/assets/js/128.182078d6.js"><link rel="prefetch" href="/work-log/assets/js/129.b3eb3054.js"><link rel="prefetch" href="/work-log/assets/js/13.513c5558.js"><link rel="prefetch" href="/work-log/assets/js/130.92e093ca.js"><link rel="prefetch" href="/work-log/assets/js/131.73965dbd.js"><link rel="prefetch" href="/work-log/assets/js/132.2a5161ca.js"><link rel="prefetch" href="/work-log/assets/js/133.1285b5d2.js"><link rel="prefetch" href="/work-log/assets/js/134.d9350437.js"><link rel="prefetch" href="/work-log/assets/js/135.9802d089.js"><link rel="prefetch" href="/work-log/assets/js/136.6d3124a7.js"><link rel="prefetch" href="/work-log/assets/js/137.35b85ed1.js"><link rel="prefetch" href="/work-log/assets/js/138.b9328575.js"><link rel="prefetch" href="/work-log/assets/js/139.c5d045d3.js"><link rel="prefetch" href="/work-log/assets/js/14.b77c49a9.js"><link rel="prefetch" href="/work-log/assets/js/140.205b36a5.js"><link rel="prefetch" href="/work-log/assets/js/141.52978812.js"><link rel="prefetch" href="/work-log/assets/js/142.4b72d5dd.js"><link rel="prefetch" href="/work-log/assets/js/143.4ac8a84c.js"><link rel="prefetch" href="/work-log/assets/js/144.ac8a8118.js"><link rel="prefetch" href="/work-log/assets/js/145.c2f7eb79.js"><link rel="prefetch" href="/work-log/assets/js/146.8ba0fd6c.js"><link rel="prefetch" href="/work-log/assets/js/147.980f9264.js"><link rel="prefetch" href="/work-log/assets/js/148.16f7a26c.js"><link rel="prefetch" href="/work-log/assets/js/149.7ae7b0aa.js"><link rel="prefetch" href="/work-log/assets/js/15.0ffbc9a2.js"><link rel="prefetch" href="/work-log/assets/js/150.84dbae77.js"><link rel="prefetch" href="/work-log/assets/js/151.361e1a2a.js"><link rel="prefetch" href="/work-log/assets/js/152.b9ac52f4.js"><link rel="prefetch" href="/work-log/assets/js/153.1c4e174b.js"><link rel="prefetch" href="/work-log/assets/js/154.1106b395.js"><link rel="prefetch" href="/work-log/assets/js/155.b0c9c2a9.js"><link rel="prefetch" href="/work-log/assets/js/156.cc254583.js"><link rel="prefetch" href="/work-log/assets/js/157.ff5522c8.js"><link rel="prefetch" href="/work-log/assets/js/158.67f2d825.js"><link rel="prefetch" href="/work-log/assets/js/159.82822282.js"><link rel="prefetch" href="/work-log/assets/js/16.9f699ee1.js"><link rel="prefetch" href="/work-log/assets/js/160.70c50047.js"><link rel="prefetch" href="/work-log/assets/js/161.ce77ecef.js"><link rel="prefetch" href="/work-log/assets/js/162.d86d5463.js"><link rel="prefetch" href="/work-log/assets/js/163.00b6ae38.js"><link rel="prefetch" href="/work-log/assets/js/164.5e44a9ca.js"><link rel="prefetch" href="/work-log/assets/js/165.9f97b098.js"><link rel="prefetch" href="/work-log/assets/js/166.a6af875f.js"><link rel="prefetch" href="/work-log/assets/js/167.0d774a00.js"><link rel="prefetch" href="/work-log/assets/js/168.093dcac9.js"><link rel="prefetch" href="/work-log/assets/js/169.c5645356.js"><link rel="prefetch" href="/work-log/assets/js/17.c79cf106.js"><link rel="prefetch" href="/work-log/assets/js/170.a631bd36.js"><link rel="prefetch" href="/work-log/assets/js/171.1d576f15.js"><link rel="prefetch" href="/work-log/assets/js/172.2cc080f4.js"><link rel="prefetch" href="/work-log/assets/js/173.357cad12.js"><link rel="prefetch" href="/work-log/assets/js/174.c484a67e.js"><link rel="prefetch" href="/work-log/assets/js/175.88e76411.js"><link rel="prefetch" href="/work-log/assets/js/176.d7a3ae96.js"><link rel="prefetch" href="/work-log/assets/js/177.04cf8f2a.js"><link rel="prefetch" href="/work-log/assets/js/178.d61bf348.js"><link rel="prefetch" href="/work-log/assets/js/179.ec02290f.js"><link rel="prefetch" href="/work-log/assets/js/18.9aa6d006.js"><link rel="prefetch" href="/work-log/assets/js/180.25d4c7f6.js"><link rel="prefetch" href="/work-log/assets/js/181.ede26f64.js"><link rel="prefetch" href="/work-log/assets/js/182.4dce7740.js"><link rel="prefetch" href="/work-log/assets/js/183.b63240e8.js"><link rel="prefetch" href="/work-log/assets/js/184.2b43d19c.js"><link rel="prefetch" href="/work-log/assets/js/185.d62ddf03.js"><link rel="prefetch" href="/work-log/assets/js/186.1d4b30a2.js"><link rel="prefetch" href="/work-log/assets/js/187.fe538f31.js"><link rel="prefetch" href="/work-log/assets/js/188.a3f91a67.js"><link rel="prefetch" href="/work-log/assets/js/189.afc57b5c.js"><link rel="prefetch" href="/work-log/assets/js/19.3ff3fe61.js"><link rel="prefetch" href="/work-log/assets/js/190.01898ad2.js"><link rel="prefetch" href="/work-log/assets/js/191.3a6495ee.js"><link rel="prefetch" href="/work-log/assets/js/192.bba5799d.js"><link rel="prefetch" href="/work-log/assets/js/193.62240ec1.js"><link rel="prefetch" href="/work-log/assets/js/194.e7f0602c.js"><link rel="prefetch" href="/work-log/assets/js/195.7c18d418.js"><link rel="prefetch" href="/work-log/assets/js/196.8bb2cfe3.js"><link rel="prefetch" href="/work-log/assets/js/197.46f84a72.js"><link rel="prefetch" href="/work-log/assets/js/198.c5d12f13.js"><link rel="prefetch" href="/work-log/assets/js/199.47a50c6d.js"><link rel="prefetch" href="/work-log/assets/js/20.1cca4214.js"><link rel="prefetch" href="/work-log/assets/js/200.d90de9c4.js"><link rel="prefetch" href="/work-log/assets/js/201.d2a65ba0.js"><link rel="prefetch" href="/work-log/assets/js/202.391b6477.js"><link rel="prefetch" href="/work-log/assets/js/203.6c284c2b.js"><link rel="prefetch" href="/work-log/assets/js/204.7b09c232.js"><link rel="prefetch" href="/work-log/assets/js/205.cc222734.js"><link rel="prefetch" href="/work-log/assets/js/206.20c73ae3.js"><link rel="prefetch" href="/work-log/assets/js/207.15364ea9.js"><link rel="prefetch" href="/work-log/assets/js/208.0f39eb38.js"><link rel="prefetch" href="/work-log/assets/js/209.8c961a4a.js"><link rel="prefetch" href="/work-log/assets/js/21.3f0b4d0c.js"><link rel="prefetch" href="/work-log/assets/js/210.ee51de73.js"><link rel="prefetch" href="/work-log/assets/js/211.8851c9f2.js"><link rel="prefetch" href="/work-log/assets/js/212.0e3635fa.js"><link rel="prefetch" href="/work-log/assets/js/213.d7084a04.js"><link rel="prefetch" href="/work-log/assets/js/214.9318af40.js"><link rel="prefetch" href="/work-log/assets/js/215.9b7b07c6.js"><link rel="prefetch" href="/work-log/assets/js/216.dd59ed40.js"><link rel="prefetch" href="/work-log/assets/js/217.e07ede52.js"><link rel="prefetch" href="/work-log/assets/js/218.3423eda6.js"><link rel="prefetch" href="/work-log/assets/js/219.d56acfcf.js"><link rel="prefetch" href="/work-log/assets/js/22.908b6aed.js"><link rel="prefetch" href="/work-log/assets/js/220.aa323d58.js"><link rel="prefetch" href="/work-log/assets/js/221.a86b48b4.js"><link rel="prefetch" href="/work-log/assets/js/222.3b4f7596.js"><link rel="prefetch" href="/work-log/assets/js/223.281b8abb.js"><link rel="prefetch" href="/work-log/assets/js/224.4240cbc5.js"><link rel="prefetch" href="/work-log/assets/js/225.e034d5a4.js"><link rel="prefetch" href="/work-log/assets/js/226.3c5b1885.js"><link rel="prefetch" href="/work-log/assets/js/227.d06441d4.js"><link rel="prefetch" href="/work-log/assets/js/229.a6db1f8d.js"><link rel="prefetch" href="/work-log/assets/js/23.759ff9dd.js"><link rel="prefetch" href="/work-log/assets/js/24.f4e708fa.js"><link rel="prefetch" href="/work-log/assets/js/25.0872ce72.js"><link rel="prefetch" href="/work-log/assets/js/26.27fe5cd1.js"><link rel="prefetch" href="/work-log/assets/js/27.f0fd7d6b.js"><link rel="prefetch" href="/work-log/assets/js/28.698d073d.js"><link rel="prefetch" href="/work-log/assets/js/29.ac17c351.js"><link rel="prefetch" href="/work-log/assets/js/3.0bbe7e37.js"><link rel="prefetch" href="/work-log/assets/js/30.e68634a6.js"><link rel="prefetch" href="/work-log/assets/js/31.e4e7c995.js"><link rel="prefetch" href="/work-log/assets/js/32.125d4702.js"><link rel="prefetch" href="/work-log/assets/js/33.8284bbc1.js"><link rel="prefetch" href="/work-log/assets/js/34.724ddf02.js"><link rel="prefetch" href="/work-log/assets/js/35.7fee0cb5.js"><link rel="prefetch" href="/work-log/assets/js/36.d42f4de3.js"><link rel="prefetch" href="/work-log/assets/js/37.55cef61c.js"><link rel="prefetch" href="/work-log/assets/js/38.0ef03e5c.js"><link rel="prefetch" href="/work-log/assets/js/39.8fe170c2.js"><link rel="prefetch" href="/work-log/assets/js/4.ba3164ba.js"><link rel="prefetch" href="/work-log/assets/js/40.d50efbcc.js"><link rel="prefetch" href="/work-log/assets/js/41.dc139f14.js"><link rel="prefetch" href="/work-log/assets/js/42.9210af5b.js"><link rel="prefetch" href="/work-log/assets/js/43.aff6f658.js"><link rel="prefetch" href="/work-log/assets/js/44.05a8fea4.js"><link rel="prefetch" href="/work-log/assets/js/45.b2e2c27f.js"><link rel="prefetch" href="/work-log/assets/js/46.3c6a8df2.js"><link rel="prefetch" href="/work-log/assets/js/47.f6a60295.js"><link rel="prefetch" href="/work-log/assets/js/48.60f4dc63.js"><link rel="prefetch" href="/work-log/assets/js/49.6e24cce1.js"><link rel="prefetch" href="/work-log/assets/js/5.75a3592b.js"><link rel="prefetch" href="/work-log/assets/js/50.90c3562a.js"><link rel="prefetch" href="/work-log/assets/js/51.5782f015.js"><link rel="prefetch" href="/work-log/assets/js/52.5f0ba92e.js"><link rel="prefetch" href="/work-log/assets/js/53.5186bc49.js"><link rel="prefetch" href="/work-log/assets/js/54.22fbaef1.js"><link rel="prefetch" href="/work-log/assets/js/55.45e54c14.js"><link rel="prefetch" href="/work-log/assets/js/56.3ad93291.js"><link rel="prefetch" href="/work-log/assets/js/57.632bade4.js"><link rel="prefetch" href="/work-log/assets/js/58.a58f52a6.js"><link rel="prefetch" href="/work-log/assets/js/59.5d97cde9.js"><link rel="prefetch" href="/work-log/assets/js/6.0377ba0c.js"><link rel="prefetch" href="/work-log/assets/js/60.999e53f8.js"><link rel="prefetch" href="/work-log/assets/js/61.3de01748.js"><link rel="prefetch" href="/work-log/assets/js/62.0406c220.js"><link rel="prefetch" href="/work-log/assets/js/63.9c069877.js"><link rel="prefetch" href="/work-log/assets/js/64.fb45c4fe.js"><link rel="prefetch" href="/work-log/assets/js/65.1605765a.js"><link rel="prefetch" href="/work-log/assets/js/66.b2d4103a.js"><link rel="prefetch" href="/work-log/assets/js/67.222f4d9c.js"><link rel="prefetch" href="/work-log/assets/js/68.8ff4c077.js"><link rel="prefetch" href="/work-log/assets/js/69.96f761f8.js"><link rel="prefetch" href="/work-log/assets/js/7.c64402cb.js"><link rel="prefetch" href="/work-log/assets/js/70.a8ee06b7.js"><link rel="prefetch" href="/work-log/assets/js/71.bc100c63.js"><link rel="prefetch" href="/work-log/assets/js/72.0a7d53d9.js"><link rel="prefetch" href="/work-log/assets/js/73.6257132a.js"><link rel="prefetch" href="/work-log/assets/js/74.84df803a.js"><link rel="prefetch" href="/work-log/assets/js/75.68398a59.js"><link rel="prefetch" href="/work-log/assets/js/76.ccc365c7.js"><link rel="prefetch" href="/work-log/assets/js/77.e929b0ce.js"><link rel="prefetch" href="/work-log/assets/js/78.93760e8b.js"><link rel="prefetch" href="/work-log/assets/js/79.16bfdbe3.js"><link rel="prefetch" href="/work-log/assets/js/8.129ac58e.js"><link rel="prefetch" href="/work-log/assets/js/80.821c3f6f.js"><link rel="prefetch" href="/work-log/assets/js/81.381868c7.js"><link rel="prefetch" href="/work-log/assets/js/82.bc6e50c8.js"><link rel="prefetch" href="/work-log/assets/js/83.41f5d31e.js"><link rel="prefetch" href="/work-log/assets/js/84.1e1cc5df.js"><link rel="prefetch" href="/work-log/assets/js/85.6972a15b.js"><link rel="prefetch" href="/work-log/assets/js/86.1d5e1c3d.js"><link rel="prefetch" href="/work-log/assets/js/87.ec4980e6.js"><link rel="prefetch" href="/work-log/assets/js/88.55df094e.js"><link rel="prefetch" href="/work-log/assets/js/89.8d3ebb80.js"><link rel="prefetch" href="/work-log/assets/js/9.7845f99f.js"><link rel="prefetch" href="/work-log/assets/js/90.be2566c6.js"><link rel="prefetch" href="/work-log/assets/js/91.2d9b03be.js"><link rel="prefetch" href="/work-log/assets/js/92.59ac2fc3.js"><link rel="prefetch" href="/work-log/assets/js/93.b63937d3.js"><link rel="prefetch" href="/work-log/assets/js/94.91de0d7e.js"><link rel="prefetch" href="/work-log/assets/js/95.3858ae92.js"><link rel="prefetch" href="/work-log/assets/js/96.6339e05f.js"><link rel="prefetch" href="/work-log/assets/js/97.ca3878b7.js"><link rel="prefetch" href="/work-log/assets/js/98.087b3f7e.js"><link rel="prefetch" href="/work-log/assets/js/99.ec8109b0.js">
    <link rel="stylesheet" href="/work-log/assets/css/0.styles.c92e7880.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/work-log/" class="home-link router-link-active"><!----> <span class="site-name">Hello VuePress</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/work-log/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/work-log/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/work-log/log/" class="nav-link">
  Log
</a></div><div class="nav-item"><a href="/work-log/version/" class="nav-link router-link-active">
  Version
</a></div><div class="nav-item"><a href="https://baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="My Place" class="dropdown-title"><span class="title">My Place</span> <span class="arrow down"></span></button> <button type="button" aria-label="My Place" class="mobile-dropdown-title"><span class="title">My Place</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/BluePrintYang" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/yonglone" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitEE
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://yonglone.gitee.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/work-log/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/work-log/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/work-log/log/" class="nav-link">
  Log
</a></div><div class="nav-item"><a href="/work-log/version/" class="nav-link router-link-active">
  Version
</a></div><div class="nav-item"><a href="https://baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="My Place" class="dropdown-title"><span class="title">My Place</span> <span class="arrow down"></span></button> <button type="button" aria-label="My Place" class="mobile-dropdown-title"><span class="title">My Place</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/BluePrintYang" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/yonglone" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitEE
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://yonglone.gitee.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>README</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/work-log/version/" aria-current="page" class="sidebar-link">导航</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>content</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/work-log/version/sizheng.html" aria-current="page" class="active sidebar-link">思政版本——今日校园高级接口</a></li><li><a href="/work-log/version/9.2.0.html" class="sidebar-link">9.2.0——新版今日校园</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="思政版本-今日校园高级接口"><a href="#思政版本-今日校园高级接口" class="header-anchor">#</a> 思政版本——今日校园高级接口</h1> <blockquote><p><strong>开始日期</strong>：12.29</p></blockquote> <h3 id="需求"><a href="#需求" class="header-anchor">#</a> 需求</h3> <h4 id="_1-添加校园号统计接口"><a href="#_1-添加校园号统计接口" class="header-anchor">#</a> 1. 添加校园号统计接口</h4> <ol><li>浏览总数</li> <li>获赞次数</li> <li>评论次数</li> <li>分享次数</li> <li><s>昨日来访次数</s> 已取消</li> <li><s>本月来访次数</s> 已取消</li> <li><s>活动累计参与人数、报名人数</s> 已取消</li> <li>获取本校话题  新增</li> <li>获取推荐话题 新增</li> <li>推广活动 新增</li></ol> <h4 id="_2-今日校园提供思政绑定管控台"><a href="#_2-今日校园提供思政绑定管控台" class="header-anchor">#</a> 2. 今日校园提供思政绑定管控台</h4> <ol><li>客户端绑定</li> <li>校园号管控台绑定</li> <li>运营管控台绑定</li> <li>思政授权时回调云平台接口</li></ol> <p>涉及项目：<code>wec-cpdaily-api</code> <code>wec-cpdaily-campus</code> <code>wec-devops-proxy</code> <code>wec-cpdaily-campus-account</code> <code>wec-cpdaily-common</code> <code>wec-cpdaily-info-provider</code> <code>wec-cpdaily-content-provider</code></p> <h3 id="sql"><a href="#sql" class="header-anchor">#</a> SQL</h3> <h4 id="校园号管控台"><a href="#校园号管控台" class="header-anchor">#</a> 校园号管控台</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment"># 校园号管控台添加授权菜单</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> cpdaily_authority<span class="token punctuation">.</span>t_authority_permission <span class="token punctuation">(</span>permission_id<span class="token punctuation">,</span> permission_name<span class="token punctuation">,</span> permission_type<span class="token punctuation">,</span> type_info<span class="token punctuation">,</span> parent_id<span class="token punctuation">,</span> biz_type<span class="token punctuation">,</span> fit_mode<span class="token punctuation">,</span> sort_no<span class="token punctuation">,</span> deleted<span class="token punctuation">,</span> update_time<span class="token punctuation">,</span> create_time<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'account_authorization_management'</span><span class="token punctuation">,</span> <span class="token string">'授权管理'</span><span class="token punctuation">,</span> <span class="token string">'menu'</span><span class="token punctuation">,</span> <span class="token string">'{&quot;urlType&quot;:&quot;route&quot;}'</span><span class="token punctuation">,</span> <span class="token string">'account_campus_setting'</span><span class="token punctuation">,</span> <span class="token string">'account'</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'2022-01-04 16:11:32'</span><span class="token punctuation">,</span> <span class="token string">'2022-01-04 16:11:32'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> cpdaily_authority<span class="token punctuation">.</span>t_authority_permission <span class="token punctuation">(</span>permission_id<span class="token punctuation">,</span> permission_name<span class="token punctuation">,</span> permission_type<span class="token punctuation">,</span> type_info<span class="token punctuation">,</span> parent_id<span class="token punctuation">,</span> biz_type<span class="token punctuation">,</span> fit_mode<span class="token punctuation">,</span> sort_no<span class="token punctuation">,</span> deleted<span class="token punctuation">,</span> update_time<span class="token punctuation">,</span> create_time<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'account_auth_management_school'</span><span class="token punctuation">,</span> <span class="token string">'校园号授权管理'</span><span class="token punctuation">,</span> <span class="token string">'menu'</span><span class="token punctuation">,</span> <span class="token string">'{&quot;urlType&quot;:&quot;route&quot;}'</span><span class="token punctuation">,</span> <span class="token string">'account_org_management'</span><span class="token punctuation">,</span> <span class="token string">'account'</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'2022-01-04 16:14:26'</span><span class="token punctuation">,</span> <span class="token string">'2022-01-04 16:14:26'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment"># 校级号 超管与高级管理员添加授权权限</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> t_authority_role_permission <span class="token punctuation">(</span>role_id<span class="token punctuation">,</span> permission_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'super_admin_school_account'</span><span class="token punctuation">,</span>   <span class="token string">'account_authorization_management'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> t_authority_role_permission <span class="token punctuation">(</span>role_id<span class="token punctuation">,</span> permission_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'senior_admin_school_account'</span><span class="token punctuation">,</span> <span class="token string">'account_authorization_management'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> t_authority_role_permission <span class="token punctuation">(</span>role_id<span class="token punctuation">,</span> permission_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'super_admin_school_account'</span><span class="token punctuation">,</span>   <span class="token string">'account_auth_management_school'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> t_authority_role_permission <span class="token punctuation">(</span>role_id<span class="token punctuation">,</span> permission_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'senior_admin_school_account'</span><span class="token punctuation">,</span> <span class="token string">'account_auth_management_school'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment"># 普通机构号 超管与高级管理员添加授权权限</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> t_authority_role_permission <span class="token punctuation">(</span>role_id<span class="token punctuation">,</span> permission_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'super_admin_org_account'</span><span class="token punctuation">,</span>      <span class="token string">'account_authorization_management'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> t_authority_role_permission <span class="token punctuation">(</span>role_id<span class="token punctuation">,</span> permission_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'senior_admin_org_account'</span><span class="token punctuation">,</span> <span class="token string">'account_authorization_management'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment"># 社团号 超管与高级管理员添加授权权限</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> t_authority_role_permission <span class="token punctuation">(</span>role_id<span class="token punctuation">,</span> permission_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'super_admin_ass_account'</span><span class="token punctuation">,</span>      <span class="token string">'account_authorization_management'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> t_authority_role_permission <span class="token punctuation">(</span>role_id<span class="token punctuation">,</span> permission_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'senior_admin_ass_account'</span><span class="token punctuation">,</span> <span class="token string">'account_authorization_management'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment"># 添加接口资源</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> cpdaily_authority<span class="token punctuation">.</span>t_authority_resource <span class="token punctuation">(</span>resource_id<span class="token punctuation">,</span> resource_name<span class="token punctuation">,</span> resource_type<span class="token punctuation">,</span> resource_value<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'account_admin_policy_bind'</span><span class="token punctuation">,</span> <span class="token string">'思政绑定校园号'</span><span class="token punctuation">,</span> <span class="token string">'INTERFACE'</span><span class="token punctuation">,</span> <span class="token string">'/admin/account/adminuser/policy-account/bind'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> cpdaily_authority<span class="token punctuation">.</span>t_authority_resource <span class="token punctuation">(</span>resource_id<span class="token punctuation">,</span> resource_name<span class="token punctuation">,</span> resource_type<span class="token punctuation">,</span> resource_value<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'account_admin_policy_bind_list'</span><span class="token punctuation">,</span> <span class="token string">'查询思政绑定列表'</span><span class="token punctuation">,</span> <span class="token string">'INTERFACE'</span><span class="token punctuation">,</span> <span class="token string">'/admin/account/adminuser/policy-account/list'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment"># 添加接口资源权限</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> cpdaily_authority<span class="token punctuation">.</span>t_authority_permission_resource <span class="token punctuation">(</span>permission_id<span class="token punctuation">,</span> resource_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'account_campus_setting'</span><span class="token punctuation">,</span> <span class="token string">'account_admin_policy_bind'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> cpdaily_authority<span class="token punctuation">.</span>t_authority_permission_resource <span class="token punctuation">(</span>permission_id<span class="token punctuation">,</span> resource_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'account_campus_setting'</span><span class="token punctuation">,</span> <span class="token string">'account_admin_policy_bind_list'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> cpdaily_authority<span class="token punctuation">.</span>t_authority_permission_resource <span class="token punctuation">(</span>permission_id<span class="token punctuation">,</span> resource_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'account_org_management'</span><span class="token punctuation">,</span> <span class="token string">'account_admin_policy_bind'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> cpdaily_authority<span class="token punctuation">.</span>t_authority_permission_resource <span class="token punctuation">(</span>permission_id<span class="token punctuation">,</span> resource_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'account_org_management'</span><span class="token punctuation">,</span> <span class="token string">'account_admin_policy_bind_list'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="运营管控台"><a href="#运营管控台" class="header-anchor">#</a> 运营管控台</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment"># 运营管控台添加授权菜单</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> cpdaily_base<span class="token punctuation">.</span>t_cpdaily_m_menu <span class="token punctuation">(</span>MENU_ID<span class="token punctuation">,</span> MENU_TYPE<span class="token punctuation">,</span> MENU_URL<span class="token punctuation">,</span> MENU_NAME<span class="token punctuation">,</span> MENU_ICON<span class="token punctuation">,</span> MENU_CATEGORY<span class="token punctuation">,</span> CLIENT_TYPE<span class="token punctuation">,</span> SORT_NO<span class="token punctuation">,</span> P_MENU_ID<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'CampusAuthorization'</span><span class="token punctuation">,</span> <span class="token string">'url'</span><span class="token punctuation">,</span> <span class="token string">'/v3/admin/cpdaily/new/whole/admin.html#/campus/list'</span><span class="token punctuation">,</span> <span class="token string">'校园号授权管理'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'system'</span><span class="token punctuation">,</span> <span class="token string">'CPDAILY'</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">'CampusNew'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment"># 运营管控台授予超管授权菜单权限</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> cpdaily_base<span class="token punctuation">.</span>t_cpdaily_m_role_menu <span class="token punctuation">(</span>role_id<span class="token punctuation">,</span> menu_id<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'supper_admin'</span><span class="token punctuation">,</span> <span class="token string">'CampusAuthorization'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="高级接口"><a href="#高级接口" class="header-anchor">#</a> 高级接口</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment"># 新增高级接口scope</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>t_cpdaily_app_scope<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>scope_code<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_name<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_level<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'senior_campus_getAccounts'</span><span class="token punctuation">,</span> <span class="token string">'获取校园号'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>t_cpdaily_app_scope<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>scope_code<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_name<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_level<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'senior_campus_content_publish_link'</span><span class="token punctuation">,</span> <span class="token string">'发布链接'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>t_cpdaily_app_scope<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>scope_code<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_name<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_level<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'senior_campus_content_del'</span><span class="token punctuation">,</span> <span class="token string">'删除动态'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>t_cpdaily_app_scope<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>scope_code<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_name<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_level<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'senior_campus_content_publish_article'</span><span class="token punctuation">,</span> <span class="token string">'发布文章'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>t_cpdaily_app_scope<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>scope_code<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_name<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_level<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'senior_campus_content_update_article'</span><span class="token punctuation">,</span> <span class="token string">'更新文章'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>t_cpdaily_app_scope<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>scope_code<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_name<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_level<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'senior_campus_content_publish_graphic'</span><span class="token punctuation">,</span> <span class="token string">'发布图文'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>t_cpdaily_app_scope<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>scope_code<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_name<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_level<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'senior_campus_content_publish_small_video'</span><span class="token punctuation">,</span> <span class="token string">'发布视频'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>t_cpdaily_app_scope<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>scope_code<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_name<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_level<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'senior_account_statistics_fans'</span><span class="token punctuation">,</span> <span class="token string">'查询粉丝'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>t_cpdaily_app_scope<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>scope_code<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_name<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_level<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'senior_account_statistics_visited'</span><span class="token punctuation">,</span> <span class="token string">'查询浏览次数'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>t_cpdaily_app_scope<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>scope_code<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_name<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_level<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'senior_account_statistics_like'</span><span class="token punctuation">,</span> <span class="token string">'查询点赞'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>t_cpdaily_app_scope<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>scope_code<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_name<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_level<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'senior_account_statistics_comment'</span><span class="token punctuation">,</span> <span class="token string">'查询评论'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>t_cpdaily_app_scope<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>scope_code<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_name<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_level<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'senior_account_statistics_share'</span><span class="token punctuation">,</span> <span class="token string">'查询分享'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>t_cpdaily_app_scope<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>scope_code<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_name<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_level<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'senior_fresh_crosstalk_recommend_list'</span><span class="token punctuation">,</span> <span class="token string">'获取推荐话题'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>t_cpdaily_app_scope<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>scope_code<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_name<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_level<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'senior_fresh_crosstalk_tenant_list'</span><span class="token punctuation">,</span> <span class="token string">'获取本校话题'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>t_cpdaily_app_scope<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>scope_code<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_name<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_level<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'senior_sizheng_bind_campus_account'</span><span class="token punctuation">,</span> <span class="token string">'思政云绑定校园号'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span>t_cpdaily_app_scope<span class="token punctuation">`</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>scope_code<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_name<span class="token punctuation">`</span><span class="token punctuation">,</span> <span class="token punctuation">`</span>scope_level<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'senior_campus_content_promote'</span><span class="token punctuation">,</span> <span class="token string">'活动推广'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment"># 思政云同步内容记录创作者，需夜间刷sq</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> t_cpdaily_time_fresh
	<span class="token keyword">add</span> create_user_name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token boolean">null</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">'创造者名称'</span> <span class="token keyword">after</span> create_user_id<span class="token punctuation">;</span>
</code></pre></div><h3 id="高级接口相关逻辑"><a href="#高级接口相关逻辑" class="header-anchor">#</a> 高级接口相关逻辑</h3> <p>添加网关配置</p> <div class="language-json extra-class"><pre class="language-json"><code>location = /senior/fresh/crosstalk/recommend/list <span class="token punctuation">{</span>
    set $scope <span class="token string">&quot;senior_fresh_crosstalk_recommend_list&quot;</span>;
    access_by_lua_file /opt/openresty/lua/senior_api.lua;
    proxy_pass http<span class="token operator">:</span><span class="token comment">//wec-cpdaily-api;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>覆盖原有配置</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># x</span>
/usr/local/openresty/nginx/sbin/nginx -t
/usr/local/openresty/nginx/sbin/nginx -s reload
</code></pre></div><h3 id="发布文章动态逻辑"><a href="#发布文章动态逻辑" class="header-anchor">#</a> 发布文章动态逻辑</h3> <p>奇怪的逻辑</p> <p>cpdaily_content.t_cpdaily_time_fresh.create_user_id  ----&gt; 管理员用户id</p> <p>cpdaily_content.t_cpdaily_freshs.CREATE_USER_ID  -----&gt; 校园号account_id</p> <p>发布内容高级接口添加createUserName</p> <p>管控台展示逻辑</p> <blockquote><p>高级接口会传租户code，学工号和用户名称，如果通过租户code和学工号能找到对应今日校园用户，文章管理/动态管理的创建者就展示今日校园用户，不能就展示思政传的用户名称</p></blockquote> <p>涉及项目 <code>wec-cpdaily-api</code> <code>wec-cpdaily-info-provider</code> <code>wec-cpdaily-content-provider</code></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/28/2022, 6:02:38 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/work-log/version/" class="prev router-link-active">
        导航
      </a></span> <span class="next"><a href="/work-log/version/9.2.0.html">
        9.2.0——新版今日校园
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/work-log/assets/js/app.4ab3fcb2.js" defer></script><script src="/work-log/assets/js/2.8bf0a2de.js" defer></script><script src="/work-log/assets/js/228.9c589116.js" defer></script>
  </body>
</html>
